{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "AirnityRendererConfig",

  "definitions": {
    "httpHeader": {
      "type": "object",
      "additionalProperties": false,
      "required": ["name", "value"],
      "properties": {
        "name": {
          "type": "string",
          "minLength": 1,
          "description": "The name of the header."
        },
        "value": {
          "type": "string",
          "minLength": 1,
          "description": "The value of the header."
        }
      }
    },

    "deployment": {
      "type": "object",
      "additionalProperties": false,
      "required": ["clusterId", "appName"],
      "properties": {
        "clusterId": {
          "type": "string",
          "minLength": 1,
          "description": "The ID of the cluster where the app should be deployed."
        },
        "appName": {
          "type": "string",
          "minLength": 1,
          "description": "The name of the application to deploy."
        }
      }
    }
  },

  "type": "object",
  "additionalProperties": false,
  "required": ["url", "gitRepo", "commitSha", "deployments"],
  "properties": {
    "url": {
      "type": "string",
      "minLength": 1,
      "description": "The URL of the airnity server to send the request to."
    },
    "gitRepo": {
      "type": "string",
      "minLength": 1,
      "description": "The Git repository URL."
    },
    "commitSha": {
      "type": "string",
      "minLength": 1,
      "description": "The commit SHA to render manifests for."
    },
    "deployments": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/definitions/deployment"
      },
      "description": "List of deployment targets with cluster and app information."
    },
    "headers": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/httpHeader"
      },
      "description": "Headers to include in the HTTP request."
    },
    "insecureSkipTLSVerify": {
      "type": "boolean",
      "description": "Whether to skip TLS verification when making the request. (Not recommended.)"
    },
    "timeout": {
      "type": "string",
      "pattern": "(?:\\d+(ns|us|Âµs|ms|s|m|h))+",
      "description": "The maximum time to wait for the request to complete. If not specified, the default is 30 seconds."
    }
  }
}