{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "AirnityRendererConfig",

  "definitions": {
    "deployment": {
      "type": "object",
      "additionalProperties": false,
      "required": ["clusterId", "appName"],
      "properties": {
        "clusterId": {
          "type": "string",
          "minLength": 1,
          "description": "The ID of the cluster where the app should be deployed."
        },
        "appName": {
          "type": "string",
          "minLength": 1,
          "description": "The name of the application to deploy."
        }
      }
    }
  },

  "type": "object",
  "additionalProperties": false,
  "required": ["environment", "repoURL", "commit", "deployments"],
  "properties": {
    "environment": {
      "type": "string",
      "minLength": 1,
      "description": "The environment name used to construct the airnity server URL."
    },
    "repoURL": {
      "type": "string",
      "minLength": 1,
      "description": "The Git repository URL."
    },
    "commit": {
      "type": "string",
      "minLength": 1,
      "description": "The commit SHA to render manifests for."
    },
    "deployments": {
      "type": "array",
      "minItems": 1,
      "items": {
        "$ref": "#/definitions/deployment"
      },
      "description": "List of deployment targets with cluster and app information."
    },
    "insecureSkipTLSVerify": {
      "type": "boolean",
      "description": "Whether to skip TLS verification when making the request. (Not recommended.)"
    },
    "timeout": {
      "type": "string",
      "pattern": "(?:\\d+(ns|us|Âµs|ms|s|m|h))+",
      "description": "The maximum time to wait for the request to complete. If not specified, the default is 30 seconds."
    }
  }
}